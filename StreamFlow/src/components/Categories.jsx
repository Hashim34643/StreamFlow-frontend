import React, { useState, useEffect } from 'react';
import { Link } from 'react-router-dom';
import Header from './Header';
import axios from 'axios';
import '../styles/Categories.css';

const CategoriesPage = () => {
    const [categories, setCategories] = useState([
        { name: 'Fortnite', image: 'https://img.redbull.com/images/c_limit,w_1500,h_1000,f_auto,q_auto/redbullcom/2018/01/23/123820ee-354e-4af9-bd03-b29047d40292/fortnite-battle-royale-characters', viewers: 0 },
        { name: 'Minecraft', image: 'https://assets.nintendo.com/image/upload/ar_16:9,c_lpad,w_1240/b_white/f_auto/q_auto/ncom/software/switch/70010000000964/811461b8d1cacf1f2da791b478dccfe2a55457780364c3d5a95fbfcdd4c3086f', viewers: 0 },
        { name: 'League of Legends', image: 'https://cdn1.epicgames.com/offer/24b9b5e323bc40eea252a10cdd3b2f10/EGS_LeagueofLegends_RiotGames_S1_2560x1440-80471666c140f790f28dff68d72c384b', viewers: 0 },
        { name: 'Chatting', image: 'https://media.wired.com/photos/620eb0f39266d5d11c07b3c5/4:3/w_1908,h_1431,c_limit/Gear-Podcast-Gear-1327244548.jpg', viewers: 0 },
        { name: 'In Real Life', image: 'https://www.popsci.com/uploads/2019/05/24/Q3YG6KFP4QASEL2NONFEULT3YM.jpg?auto=webp', viewers: 0 },
        { name: 'Grand Theft Auto V', image: 'https://upload.wikimedia.org/wikipedia/en/a/a5/Grand_Theft_Auto_V.png'},
        { name: 'EA Sports FC 24', image: 'https://s25.q4cdn.com/103200307/files/doc_multimedia/FC24_standardkeyart_16x9.jpg'},
        { name: 'Among Us', image: 'https://upload.wikimedia.org/wikipedia/en/9/9a/Among_Us_cover_art.jpg'},
        { name: `Tom Clancy's Rainbow Six Siege`, image: 'https://image.api.playstation.com/vulcan/ap/rnd/202210/2019/S8KTmZMvemfR8yfAqHvLpGIP.jpg'},
        { name: `Call Of Duty: Modern Warfare III`, image: 'https://imgs.callofduty.com/content/dam/atvi/callofduty/cod-touchui/mw3/meta/reveal/jpt-reveal-meta.jpg'},
        { name: `Apex Legends`, image: 'https://metro.co.uk/wp-content/uploads/2022/12/apex-legends-characters1-2d96.jpg?quality=90&strip=all'},
        { name: `Valorant`, image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT9Ou02RCyolHakBOgRpog06eDgQxlPfoh7Jg&usqp=CAU'},   
        { name: `Dota 2`, image: 'data:image/jpeg;base64,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'},
        { name: `Counter-Strike`, image: 'https://www.stormforcegaming.co.uk/wp-content/uploads/2023/09/wfnfuq0b8jpa1.png'},
        { name: `Art`, image: 'https://www.pictureframesexpress.co.uk/blog/wp-content/uploads/2020/05/7-Tips-to-Finding-Art-Inspiration-Header-1024x649.jpg'},   
        { name: `Education`, image: 'https://habitatbroward.org/wp-content/uploads/2020/01/10-Benefits-Showing-Why-Education-Is-Important-to-Our-Society.jpg'},   
    ]);

    useEffect(() => {
        axios.get('https://streamflow-backend.onrender.com/streams')
            .then(response => {
                const liveStreams = response.data.streams;
                const updatedCategories = categories.map(category => {
                    const totalViewers = liveStreams
                        .filter(stream => stream.category === category.name)
                        .reduce((acc, stream) => acc + stream.currentViewers, 0);
                    return { ...category, viewers: totalViewers };
                });
                setCategories(updatedCategories);
            })
    }, []);

    return (
        <div>
            <Header />
            <div className="categories-container">
                <h1 className="categories-title">Select a Category</h1>
                <div className="grid-container">
                    {categories.map((category, index) => (
                        <div key={index} className="category-card">
                            <img src={category.image} alt={category.name} className="category-image" />
                            <div className="category-name">{category.name}</div>
                            <div className="viewer-count">{category.viewers} Viewers</div>
                        </div>
                    ))}
                </div>
                <p className="more-categories">Many more categories to come. Stay tuned!</p>
            </div>
        </div>
    );
};

export default CategoriesPage;
